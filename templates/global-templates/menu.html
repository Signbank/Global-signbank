

{% load i18n %}
<!-- This was commented out, WEBSITE_LANGUAGE is already defined in baselayout.html -->
<!--{% get_current_language as LANGUAGE %}-->

<script>
function toggle_dark_mode(e) {
  var element = document.body;
  element.classList.toggle("dark-mode");
  $(".modal").each(function () {
        if ($(this).hasClass("dark-mode")) {
            $(this).removeClass("dark-mode");
        } else {
            $(this).addClass("dark-mode");
        }
  });
  $(".panel-default").each(function () {
        if ($(this).hasClass("panel-light")) {
            $(this).removeClass("panel-light");
            $(this).addClass("panel-default-dark");
        } else if ($(this).hasClass("panel-default-dark")) {
            $(this).removeClass("panel-default-dark");
            $(this).addClass("panel-light");
        }
  });
  $(".panel-heading").each(function () {
        if ($(this).hasClass("panel-light")) {
            $(this).removeClass("panel-light");
            $(this).addClass("panel-heading-dark");
        } else if ($(this).hasClass("panel-heading-dark")) {
            $(this).removeClass("panel-heading-dark");
            $(this).addClass("panel-light");
        }
  });
  $(".collapse").each(function () {
        if ($(this).hasClass("collapse-light")) {
            $(this).removeClass("collapse-light");
            $(this).addClass("collapse-dark");
        } else if ($(this).hasClass("collapse-dark")) {
            $(this).removeClass("collapse-dark");
            $(this).addClass("collapse-light");
        }
  });
  $(".well").each(function () {
        if ($(this).hasClass("well-light")) {
            $(this).removeClass("well-light");
            $(this).addClass("well-dark");
        } else if ($(this).hasClass("well-dark")) {
            $(this).removeClass("well-dark");
            $(this).addClass("well-light");
        }
  });
  $(".td").each(function () {
        if ($(this).hasClass("td-light")) {
            $(this).removeClass("td-light");
            $(this).addClass("td-dark");
        } else if ($(this).hasClass("td-dark")) {
            $(this).removeClass("td-dark");
            $(this).addClass("td-light");
        }
  });
  $(".th").each(function () {
        if ($(this).hasClass("th-light")) {
            $(this).removeClass("th-light");
            $(this).addClass("th-dark");
        } else if ($(this).hasClass("th-dark")) {
            $(this).removeClass("th-dark");
            $(this).addClass("th-light");
        }
  });
}
</script>
<style>
#affix-bar.affix {
    position:fixed;
    top: 0;
    z-index: 1000 !important;
    background: inherit;
}
</style>

<div id="signbank-bar" class="navbar navbar-fixed-top" style="box-sizing:content-box;">

<div id='header' class="navbar-header">
    <a href="{{PREFIX_URL}}/" height="80" width="80" style="box-sizing:content-box;"><img class="global_sb_logo" src="{{STATIC_URL}}images/global/GlobalSigbank_logo_white.svg" height="80" width="80"></a>
    <h1>Global <br/><span id="second-title-part">signbank</span></h1>

    {% if user.is_authenticated %}
    {% if SHOW_DATASET_INTERFACE_OPTIONS and viewable_datasets %}
        <div class='navbar-text' style="left-margin: 15px;">
            <div class='taglist ribbon_list'>
                {% load underscore_to_space %}
                {% for ds,selected in viewable_datasets %}
                <a href="{{PREFIX_URL}}/datasets/{{ds.acronym}}">
                    <div class="ribbon {% if selected %}selected{% endif %}">
                        {{ds.generate_short_name|underscore_to_space}}
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
     {% endif %}
     {% else %}
        {% if viewable_datasets %}
        <div class='navbar-text' style="left-margin: 15px;">
            <div class='taglist ribbon_list'>
                {% load underscore_to_space %}
                {% for ds,selected in viewable_datasets %}
                <a href="{{PREFIX_URL}}/datasets/{{ds.acronym}}">
                    <div class="ribbon {% if selected %}selected{% endif %}">
                        {{ds.generate_short_name|underscore_to_space}}
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
        {% endif %}
     {% endif %}

    <a href="http://www.ru.nl/sign-lang" id='logoholder' class='visible-lg visible-md visible-sm'></a>
</div>
{% get_current_language as WEBSITE_LANGUAGE %}
<div id='navbar-menus' class="collapse navbar-collapse navbar-upper navbar-default" role="navigation" style="display:inline;box-sizing:content-box;padding:0;">

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="nav navbar-upper" id="menu-pull-downs" style="display:inline;padding-left:0px;box-sizing:content-box;">

    <nav class="nav navbar-upper">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#signbank-menus">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
    <div class="collapse navbar-collapse" id="signbank-menus">
    <ul class="nav navbar-left navbar-nav" style="margin-left:15px;box-sizing:content-box;">
    {# add in the top level menu items from pages #}
    {% for item in menu %}

        {% if item.children %}
        <li class='dropdown'>
             <a href="{{PREFIX_URL}}{{item.url}}"  class="dropdown-toggle" data-toggle="dropdown">
                 {{item.title}}
                 <b class="caret"></b></a>
             <ul class="dropdown-menu">
             {% for subitem in item.children %}
                <li {% if subitem.current %}class='active'{% endif %}><a href="{{PREFIX_URL}}{{subitem.url}}">
                 {{subitem.title}}
                </a></li>
             {% endfor %}
             </ul>
        </li>
      {% else %}
        <li><a style="padding-left: 0px;" href="{{PREFIX_URL}}{{item.url}}">
                 {{item.title}}
        </a></li>
      {% endif %}
    {% endfor %}

    </ul>
    <form class="navbar-form navbar-left" role="search" id="frmSearch" name="frmSearch" method="get" action="{{PREFIX_URL}}/signs/search/">
        {% csrf_token %}
            <div class="text-container {% if USE_REGULAR_EXPRESSIONS %}hasTooltip{% endif %}">
                <input class='form-control' placeholder='{% trans "Search Gloss" %}' type="text" name="search" id="tooltip-search"
                                               onfocus="focusFunction()" onblur="blurFunction()" onclick="clickFunction()"
                                               value="" maxlength="60" size="36" />
				{% if USE_REGULAR_EXPRESSIONS %}{% include "tooltip.html" with include_tags=True %}{% endif %}
            </div>
            <div class="text-container {% if USE_REGULAR_EXPRESSIONS %}hasTooltip{% endif %}">
                <input class='form-control' placeholder='{% trans "Search Sense" %}' type="text" name="translation" id="tooltip-translation"
                                               onfocus="focusFunction2()" onblur="blurFunction2()" onclick="clickFunction2()"
                                               value="" maxlength="60" size="36" />
				{% if USE_REGULAR_EXPRESSIONS %}{% include "tooltip.html" with include_tags=True %}{% endif %}
            </div>
          <button class='invisible_button' type='submit'><img id='mag-glass' src='{{ STATIC_URL }}images/global/search_icon.svg'></button>
    </form>
    <div class="nav navbar-left navbar-nav" id="user-menu" style="height: 10px;box-sizing:content-box;">
        {% if user.is_authenticated %}
        <div class='navbar-text'>
            <a href="{% url 'registration:user_profile' %}">{% trans "Profile" %}</a>
        </div>
        {% endif %}
    </div>
      <div class="nav navbar-right" style="height: 10px;box-sizing:content-box;">
          <div id="toggle_dark_mode">
              <button onclick="toggle_dark_mode()" class="btn btn-primary">{% trans "Dark Mode" %}</button>
          </div>
        {% if user.is_authenticated %}
            <div class='navbar-text'>
                <a id="username_link" href="{% url 'logout' %}">{% trans "Logout" %} ({{ user.first_name }} {{ user.last_name }})</a></div>
        {% else %}
            <div class='navbar-text'><a href="{{PREFIX_URL}}/accounts/login/">{% trans "Login" %}</a></div>
        {% endif %}
		<div class='navbar-text' id="minimalistic_language_picker"></div>

	</div>
    </div>
    </div>
  </nav>

  </div>

</div>

</div>
<div id='bslstripe'></div>

